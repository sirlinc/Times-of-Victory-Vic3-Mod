ig_absolutism = { #dynamic name: Despotismo Iluminado
	color = rgb { 154 63 137 }
	texture = "gfx/interface/icons/ig_icons/paternalistic.dds" 
	
	layer = "revolution_dynamic_landowners"
	index = 4
	
	ideologies = { 
		ideology_paternalistic 
		ideology_stratocratic
	}

	enable = {
		always = yes
	}
	
	traits = {}	
	
	set_variable = { name = techonology }
	
	on_enable = {}
	on_disable = {}	
	on_character_ig_membership = {}
	
	pop_potential = { #Anyone can support absolutism
	}

	pop_weight = {
		value = 0.75
		
		add = {
			desc = "POP_ARISTOCRATS_15_20"
			if = {
				limit = { 
					is_pop_type = aristocrats
					standard_of_living < 20
					standard_of_living >= 15
				}
				value = 5
			}
		}	
		
		add = {
			desc = "POP_ARISTOCRATS_20"
			if = {
				limit = { 
					is_pop_type = aristocrats
					standard_of_living >= 20
				}
				value = 10
			}
		}	
		
		add = {
			desc = "POP_CLERGYMEN"
			if = {
				limit = { 
					is_pop_type = clergymen
				}
				value = 6.25
			}
		}	
		
		add = {
			desc = "POP_CLERGYMEN_CHURCH_SUPPORT"
			if = {
				limit = { 
					is_pop_type = clergymen
					scope:interest_group = { is_in_government = yes }
					owner = {
						OR = {
							has_law = law_type:law_state_religion 
							has_law = law_type:law_tolerance 
						}
					}
				}
				value = 3.25
			}
		}
		
		add = {
			desc = "POP_EMPLOYMENT_RURAL"
			if = {
				limit = { 
					NOR = {
						is_pop_type = capitalists
						is_pop_type = aristocrats
						is_pop_type = clergymen
					}
					OR = {
						pop_employment_building_group = bg_agriculture
						pop_employment_building_group = bg_ranching
						pop_employment_building_group = bg_plantations				
					}
				}
				value = 1.5
			}
		}
		
		add = {
			desc = "POP_EMPLOYMENT_URBAN"
			if = {
				limit = { 
					NOR = {
						is_pop_type = capitalists
						is_pop_type = aristocrats
						is_pop_type = clergymen
					}
					NOR = {
						pop_employment_building_group = bg_agriculture
						pop_employment_building_group = bg_ranching
						pop_employment_building_group = bg_plantations				
					}
					literacy < 0.45
				}
				value = 1.25
			}
		}
		
		add = {
			desc = "RURAL_GOOD_CONDITIONS"
			if = {
				limit = { 
					scope:interest_group = {
						is_in_government = yes
					}
					NOR = {
						is_pop_type = capitalists
						is_pop_type = aristocrats
						is_pop_type = clergymen
					}
					OR = {
						pop_employment_building_group = bg_agriculture
						pop_employment_building_group = bg_ranching
						pop_employment_building_group = bg_plantations				
					}
					standard_of_living >= 10.1
				}
				value = 2.0
			}
		}
		
		add = {
			desc = "URBAN_GOOD_CONDITIONS"
			if = {
				limit = { 
					scope:interest_group = {
						is_in_government = yes
					}
					NOR = {
						pop_employment_building_group = bg_agriculture
						pop_employment_building_group = bg_ranching
						pop_employment_building_group = bg_plantations
					}
					standard_of_living >= 12
				}
				value = 2.75
			}
		}
		
		multiply = {
			desc = "LEADER_POPULARITY"
			scope:interest_group = {
				leader = {
					value = popularity
					multiply = 0.0025
					add = 1
					max = 1.25
					min = 0.75
				}
			}
		}
		
		if = {
			limit = {
				scope:interest_group = {
					is_in_government = yes
				}
			}
			multiply = {
				desc = "IN_GOVERNMENT_ATTRACTION"
				value = 1
				add = scope:interest_group.modifier:interest_group_in_government_attraction_mult
				min = 0
			}
		}
		
		multiply = {
			desc = "NO_SOCIAL_CONTRACT_THEORY"	
			value = 1.0
			
			if = {
				limit = { 
					owner = {
						NOT = { has_technology_researched = social_contract_theory }
					}
				}
				value = 0.5
			}		
		}
		
		if = {
			limit = {
				owner = {
					NOT = { has_technology_researched = absolutism }
				}
			}
			multiply = {
				desc = "NO_ABSOLUTISM"
				value = 0.5
			}
		}
	}

	monarch_weight = {
		value = 0.0
		if = {
			limit = { 
				exists = scope:character
				owner = {
					has_technology_researched = absolutism
					NOT = { has_technology_researched = classical_liberalism }
					NOR = {
						has_law = law_type:law_anarchy
						has_law = law_type:law_universal_suffrage
						has_law = law_type:law_census_suffrage
						has_law = law_type:law_wealth_voting
					}
				}
			}
			value = 0.75
		}
		if = {
			limit = { 
				exists = scope:character
				owner = {
					has_technology_researched = classical_liberalism
					has_technology_researched = absolutism
					NOR = {
						has_law = law_type:law_anarchy
						has_law = law_type:law_universal_suffrage
						has_law = law_type:law_census_suffrage
						has_law = law_type:law_wealth_voting
					}
				}
			}
			value = 0.5
		}
		if = {
			limit = { 
				exists = scope:character
				owner = {
					has_technology_researched = classical_liberalism
					has_technology_researched = absolutism
					OR = {
						has_law = law_type:law_anarchy
						has_law = law_type:law_universal_suffrage
						has_law = law_type:law_census_suffrage
						has_law = law_type:law_wealth_voting
					}
				}
			}
			value = 0.15
		}
	}	
	
	commander_weight = {
		value = 1.0
	}	
	
	noble_chance = {
		value = 0.1
	}
	
	female_commander_chance = {	
		value = 0.0
	}
	
	female_politician_chance = {
		value = 0.0
	}
	
	# The chance that a commander belonging to this IG takes over leadership when it changes
	# scope:character is the most popular commander in the IG
	commander_leader_chance = {
		value = 0.25
		if = {
			limit = {
				exists = scope:character
			}
			multiply = {
				value = 1
				add = scope:character.popularity
				min = 0
			}
		}
	}
}
